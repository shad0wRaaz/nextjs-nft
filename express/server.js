import express from 'express'
import cors from 'cors'
import multer from 'multer'
import {
  S3Client,
  PutObjectCommand,
  GetObjectCommand,
} from '@aws-sdk/client-s3'
import { getSignedUrl } from '@aws-sdk/s3-request-presigner'
import dotenv from 'dotenv'
import crypto from 'crypto'
import sanityClient from '@sanity/client'
import cron from 'node-cron'
import axios from 'axios'


const app = express()
app.use(
  cors({
    origin: ['http://localhost:3000', 'https://nuvanft.io'],
  })
)

dotenv.config() 

const s3 = new S3Client({
  credentials: {
    accessKeyId: process.env.NEXT_PUBLIC_AWS_ACCESS_KEY,
    secretAccessKey: process.env.NEXT_PUBLIC_AWS_SECRET_KEY,
  },
  region: process.env.NEXT_PUBLIC_AWS_BUCKET_REGION,
})

const config = sanityClient({
  projectId: process.env.NEXT_PUBLIC_SANITY_PROJECT_ID,
  dataset: 'production',
  apiVersion: '2021-03-25',
  token: process.env.NEXT_PUBLIC_SANITY_TOKEN,
  useCdn: false,
  ignoreBrowserTokenWarning: true,
})

cron.schedule('*/10 * * * *', async() => {
  const options = {
    method: 'GET',
    url: `https://coinranking1.p.rapidapi.com/coins`,
    params: { 
      referenceCurrencyUuid: 'yhjMzLPhuIDl',
      timePeriod: '24h',
      'tiers[0]': '1',
      orderBy: 'marketCap',
      orderDirection: 'desc',
      limit: '50',
      offset: '0'
     },
    headers: {
      'X-RapidAPI-Host': process.env.NEXT_PUBLIC_RAPIDAPI_HOST,
      'X-RapidAPI-Key': process.env.NEXT_PUBLIC_RAPIDAPI_KEY,
    },
  }
  try{
    await axios.request(options).then(async (response) => {
      // console.log(response.data)
      const matic = response.data.data.coins?.filter(item => item.symbol == "MATIC")
      const eth = response.data.data.coins?.filter(item => item.symbol == "ETH")
      console.log(matic[0].price)
      console.log(eth[0].price)
  
      //save all prices in database
      await config.patch('3cae3666-6292-4f72-b8b7-fba643c068bf')
      .set({
        maticprice : Number(parseFloat(matic[0].price).toFixed(4)),
        ethprice : Number(parseFloat(eth[0].price).toFixed(4))
      })
      .commit()
      .then(() => { 
        var date = new Date()
        console.log(`Coins Price updated on ${date.getDate()}/${date.getMonth()}/${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`)
      })
  
      
    })
    const response1 = {
      "status": "success",
      "data": {
        "stats": {
          "total": 988,
          "totalCoins": 15600,
          "totalMarkets": 30358,
          "totalExchanges": 175,
          "totalMarketCap": "1029369179041",
          "total24hVolume": "105972900756"
        },
        "coins": [
          {
            "uuid": "Qwsogvtv82FCd",
            "symbol": "BTC",
            "name": "Bitcoin",
            "color": "#f7931A",
            "iconUrl": "https://cdn.coinranking.com/bOabBYkcX/bitcoin_btc.svg",
            "marketCap": "386640304446",
            "price": "20207.478990177104",
            "listedAt": 1330214400,
            "tier": 1,
            "change": "-5.67",
            "rank": 1,
            "sparkline": [
              "21323.044624199447",
              "21229.16908736611",
              "21638.86426466989",
              "21611.316345385578",
              "21064.12953034184",
              "20762.237839990015",
              "20709.75809362001",
              "20658.539458992036",
              "20675.16929164725",
              "20685.904415240282",
              "20664.24851835694",
              "20648.1900581414",
              "20518.954629990363",
              "20236.95699079526",
              "20298.633822189702",
              "20289.535392904447",
              "20234.936607534994",
              "20221.217132043803",
              "20179.828164751692",
              "20083.812995939188",
              "20131.06289501049",
              "20179.225283865868",
              "20249.87829876281",
              "20200.962962025882",
              "20180.001849070984"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/Qwsogvtv82FCd+bitcoin-btc",
            "24hVolume": "42380339738",
            "btcPrice": "1"
          },
          {
            "uuid": "razxDUgYGNAdQ",
            "symbol": "ETH",
            "name": "Ethereum",
            "color": "#3C3C3D",
            "iconUrl": "https://cdn.coinranking.com/rk4RKHOuW/eth.svg",
            "marketCap": "183487799631",
            "price": "1506.8994184943447",
            "listedAt": 1438905600,
            "tier": 1,
            "change": "-8.99",
            "rank": 2,
            "sparkline": [
              "1642.3500566837652",
              "1633.4693068829495",
              "1677.8370442624928",
              "1675.8768016899362",
              "1624.7005935851448",
              "1589.2512212579359",
              "1578.245292705423",
              "1560.1962581451303",
              "1558.091297994261",
              "1561.1695653479037",
              "1557.1501366869127",
              "1555.1082814257222",
              "1539.1500199526463",
              "1504.6679477332707",
              "1514.6285935739002",
              "1510.934432492376",
              "1499.4614112116076",
              "1499.3353087699784",
              "1498.048487427517",
              "1485.9027983014655",
              "1492.3777195676676",
              "1497.5790673023835",
              "1505.9500467410137",
              "1502.2279351498746",
              "1503.0927799750646"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/razxDUgYGNAdQ+ethereum-eth",
            "24hVolume": "24919523859",
            "btcPrice": "0.07457137128420877"
          },
          {
            "uuid": "HIVsRcGKkPFtW",
            "symbol": "USDT",
            "name": "Tether USD",
            "color": "#22a079",
            "iconUrl": "https://cdn.coinranking.com/mgHqwlCLj/usdt.svg",
            "marketCap": "67556586051",
            "price": "1.0001024599510586",
            "listedAt": 1420761600,
            "tier": 1,
            "change": "-0.11",
            "rank": 3,
            "sparkline": [
              "1.0020457991543454",
              "0.9992562047670758",
              "0.9973440460781098",
              "1.002305441801633",
              "1.0043234837985693",
              "1.0018050369872438",
              "0.9998414291928416",
              "1.001320447422623",
              "0.9996397199316512",
              "0.9996719398923942",
              "1.000721095226713",
              "1.0001750381501084",
              "1.0026778932126443",
              "1.0011417652371375",
              "0.9995750210496216",
              "1.000547542157334",
              "1.0006808696676128",
              "1.000224674604534",
              "1.000602051743482",
              "1.0007804104347697",
              "0.999648807949845",
              "0.9998910701217523",
              "0.999903537381596",
              "1.000864176791009",
              "0.9999153871438722"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/HIVsRcGKkPFtW+tetherusd-usdt",
            "24hVolume": "69348673357",
            "btcPrice": "0.000049491698615013"
          },
          {
            "uuid": "aKzUVe4Hh_CON",
            "symbol": "USDC",
            "name": "USDC",
            "color": "#7894b4",
            "iconUrl": "https://cdn.coinranking.com/jkDf8sQbY/usdc.svg",
            "marketCap": "55872855667",
            "price": "0.9999060125226008",
            "listedAt": 1539043200,
            "tier": 1,
            "change": "-0.10",
            "rank": 4,
            "sparkline": [
              "1.0019536559195228",
              "0.9993459771397545",
              "0.9972749514140182",
              "1.0020271958145248",
              "1.0042172389217976",
              "1.0018195243811165",
              "1.0001086944826034",
              "1.001382772679994",
              "0.999653590485283",
              "0.9997477896921215",
              "1.0007390180751885",
              "1.0002573379524238",
              "1.0024901951740652",
              "1.0012525720206185",
              "0.9995040879089923",
              "1.0004953504062715",
              "1.0005761102212467",
              "1.0001387687165493",
              "1.000510626253622",
              "1.0007226333937957",
              "0.9995686355227608",
              "0.9998322202067567",
              "0.9999030054990717",
              "1.0007269695046146",
              "0.9998476096422297"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/aKzUVe4Hh_CON+usdc-usdc",
            "24hVolume": "5063791124",
            "btcPrice": "0.000049481977094157"
          },
          {
            "uuid": "WcwrkfNI4FUAe",
            "symbol": "BNB",
            "name": "Binance Coin",
            "color": "#e8b342",
            "iconUrl": "https://cdn.coinranking.com/B1N19L_dZ/bnb.svg",
            "marketCap": "41030184636",
            "price": "283.2094265129539",
            "listedAt": 1503014400,
            "tier": 1,
            "change": "-4.41",
            "rank": 5,
            "sparkline": [
              "294.5179969756067",
              "293.77312541675417",
              "298.1766539001359",
              "297.99222491187754",
              "292.05372990617445",
              "287.5952959060315",
              "286.2689886299937",
              "285.3155495511578",
              "284.97122732890756",
              "285.53201512443854",
              "285.6826053722575",
              "284.48868819610925",
              "282.12158075274533",
              "279.32409772539427",
              "280.4241467003413",
              "281.34261035795004",
              "280.79438548491066",
              "280.817961945394",
              "280.3772162480625",
              "278.4197627921527",
              "279.5548033446484",
              "280.71531594822045",
              "281.9339384323954",
              "281.36883069572866",
              "281.7412272961961"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/WcwrkfNI4FUAe+binancecoin-bnb",
            "24hVolume": "1379015961",
            "btcPrice": "0.014015079597540227"
          },
          {
            "uuid": "vSo2fu9iE1s0Y",
            "symbol": "BUSD",
            "name": "Binance USD",
            "color": "#f0b90b",
            "iconUrl": "https://cdn.coinranking.com/6SJHRfClq/busd.svg",
            "marketCap": "19295905779",
            "price": "1.0000568694931928",
            "listedAt": 1563197940,
            "tier": 1,
            "change": "-0.15",
            "rank": 6,
            "sparkline": [
              "1.0019465410248034",
              "0.9992834903112576",
              "0.9975046062512256",
              "1.0021360491946238",
              "1.0044653248429065",
              "1.0018931051530127",
              "0.9998702556310666",
              "1.0013492482988053",
              "0.9995832798163199",
              "0.999714786871143",
              "1.000880523640825",
              "1.00031740169881",
              "1.002786002834001",
              "1.001072166806347",
              "0.9995667574153771",
              "1.00057407940998",
              "1.0006274034257259",
              "1.0002140332874707",
              "1.0006346105389383",
              "1.0007836045329224",
              "0.9997053900863044",
              "0.9999275850322072",
              "0.9999236102046307",
              "1.0008634267883767",
              "0.999960351297855"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/vSo2fu9iE1s0Y+binanceusd-busd",
            "24hVolume": "9536045188",
            "btcPrice": "0.000049489442496975"
          },
          {
            "uuid": "-l8Mn2pVlRs-p",
            "symbol": "XRP",
            "name": "XRP",
            "color": "#000000",
            "iconUrl": "https://cdn.coinranking.com/B1oPuTyfX/xrp.svg",
            "marketCap": "14747805188",
            "price": "0.33566819622348537",
            "listedAt": 1421798400,
            "tier": 1,
            "change": "-6.82",
            "rank": 7,
            "sparkline": [
              "0.35641452298090553",
              "0.3526444515709999",
              "0.3555118161983189",
              "0.355361619016001",
              "0.34649580680533026",
              "0.33877514279194765",
              "0.33530323319377764",
              "0.3347838786160815",
              "0.3367344093692119",
              "0.3397175644604775",
              "0.3411222495943232",
              "0.34172571844328736",
              "0.3378254744655141",
              "0.33744508299922965",
              "0.3367275184676764",
              "0.33535980769204726",
              "0.3343654618708282",
              "0.33614064723430104",
              "0.335463685705044",
              "0.3321106938429631",
              "0.3323824144973193",
              "0.3345154694696687",
              "0.33545535736458293",
              "0.33477424903055547",
              "0.3352909848328387"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/-l8Mn2pVlRs-p+xrp-xrp",
            "24hVolume": "1951173291",
            "btcPrice": "0.000016611087230953"
          },
          {
            "uuid": "qzawljRxB5bYu",
            "symbol": "ADA",
            "name": "Cardano",
            "color": "#3cc8c8",
            "iconUrl": "https://cdn.coinranking.com/ryY28nXhW/ada.svg",
            "marketCap": "13736892857",
            "price": "0.4415234903032569",
            "listedAt": 1506902400,
            "tier": 1,
            "change": "-6.62",
            "rank": 8,
            "sparkline": [
              "0.4688209352471806",
              "0.4660356517882375",
              "0.47396085383146197",
              "0.4740373380773851",
              "0.4611898313731459",
              "0.4503985374654924",
              "0.44647335337283195",
              "0.4427486986954461",
              "0.44352800288502336",
              "0.4437477286578087",
              "0.44543552867173697",
              "0.44430357274243815",
              "0.436377496596739",
              "0.43001090482673227",
              "0.43143395619130576",
              "0.43259535442490993",
              "0.4324711263514905",
              "0.4345364111146066",
              "0.43399416168338",
              "0.4301666790276145",
              "0.43248311237972",
              "0.4371064012865235",
              "0.440105420212254",
              "0.43994824544643574",
              "0.4402898231994569"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/qzawljRxB5bYu+cardano-ada",
            "24hVolume": "2577363958",
            "btcPrice": "0.000021849508813934"
          },
          {
            "uuid": "zNZHO_Sjf",
            "symbol": "SOL",
            "name": "Solana",
            "color": "#9cddec",
            "iconUrl": "https://cdn.coinranking.com/yvUG4Qex5/solana.svg",
            "marketCap": "11174293052",
            "price": "31.983066974417117",
            "listedAt": 1586539320,
            "tier": 1,
            "change": "-7.66",
            "rank": 9,
            "sparkline": [
              "34.3925266160483",
              "34.25843389698099",
              "35.12276636222924",
              "34.98867431085115",
              "33.84817455369664",
              "33.18077456096973",
              "33.09872116347854",
              "32.997978588285385",
              "32.94661311235082",
              "32.9939468578178",
              "32.9432930062555",
              "32.73027091982063",
              "32.153000562253155",
              "31.689033186583327",
              "31.880428751353445",
              "31.88840264137873",
              "31.818746626173255",
              "31.8769122493515",
              "31.845073832459704",
              "31.488468763471214",
              "31.65986113406745",
              "31.81798489941546",
              "32.06842333228239",
              "31.96935626823182",
              "31.951380422595786"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/zNZHO_Sjf+solana-sol",
            "24hVolume": "1656899413",
            "btcPrice": "0.001582734144618641"
          },
          {
            "uuid": "9K7m6ufraZ6gh",
            "symbol": "HEX",
            "name": "HEX",
            "color": "#ffcd00",
            "iconUrl": "https://cdn.coinranking.com/iseN4Am58/hex-vector.svg",
            "marketCap": "11038278709",
            "price": "0.04271636309138994",
            "listedAt": 1589361480,
            "tier": 1,
            "change": "-12.57",
            "rank": 10,
            "sparkline": [
              "0.04834977196098214",
              "0.04792029202899737",
              "0.04854477434344256",
              "0.04853858012533471",
              "0.047652221040057806",
              "0.04674998596290622",
              "0.04684521591870739",
              "0.04707989480170118",
              "0.047250343926971285",
              "0.047652419389192714",
              "0.04816576088047537",
              "0.047945172083087",
              "0.04761287638048043",
              "0.04673944338528973",
              "0.04651800531064448",
              "0.046594924534055865",
              "0.04559237098554774",
              "0.04430563958408712",
              "0.044444404640038356",
              "0.044301199010393984",
              "0.04360398793656355",
              "0.04360346134259382",
              "0.04324236227336284",
              "0.042609965754237235",
              "0.04269541763107149"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/9K7m6ufraZ6gh+hex-hex",
            "24hVolume": "4565355",
            "btcPrice": "0.000002113888779108"
          },
          {
            "uuid": "a91GCGd_u96cF",
            "symbol": "DOGE",
            "name": "Dogecoin",
            "color": "#c2a633",
            "iconUrl": "https://cdn.coinranking.com/H1arXIuOZ/doge.svg",
            "marketCap": "8466305887",
            "price": "0.06381440501621156",
            "listedAt": 1391212800,
            "tier": 1,
            "change": "-6.49",
            "rank": 11,
            "sparkline": [
              "0.06767517373057977",
              "0.06759231523390358",
              "0.06866808904987559",
              "0.06838188314522135",
              "0.06676992819431603",
              "0.06578497471665631",
              "0.06558116894520813",
              "0.06516552133388609",
              "0.06524609829453115",
              "0.06549236423670922",
              "0.06563263690471094",
              "0.06532419765952263",
              "0.06406609932396931",
              "0.06348821035841301",
              "0.06383323734270427",
              "0.06387760303834397",
              "0.06382170960885673",
              "0.06373483987621038",
              "0.0636230882213565",
              "0.06287830650970007",
              "0.06318931848734362",
              "0.06338848321493011",
              "0.06378367233801376",
              "0.06380244309349152",
              "0.06383002309747923"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/a91GCGd_u96cF+dogecoin-doge",
            "24hVolume": "841600767",
            "btcPrice": "0.000003157959735959"
          },
          {
            "uuid": "25W7FG7om",
            "symbol": "DOT",
            "name": "Polkadot",
            "color": "#d64cA8",
            "iconUrl": "https://cdn.coinranking.com/RsljYqnbu/polkadot.svg",
            "marketCap": "7728374461",
            "price": "7.051570547093293",
            "listedAt": 1598365200,
            "tier": 1,
            "change": "-5.33",
            "rank": 12,
            "sparkline": [
              "7.388660960839642",
              "7.381516027828769",
              "7.570110468398086",
              "7.542812769964284",
              "7.312560574008223",
              "7.1755131406048855",
              "7.14204722949939",
              "7.090705084875965",
              "7.092640129530479",
              "7.109678029285479",
              "7.118684799376873",
              "7.094381548265125",
              "7.004826837569548",
              "6.920312713452638",
              "6.955370277958184",
              "6.95804013529412",
              "6.9520111058245995",
              "6.94181859603004",
              "6.9357189599180815",
              "6.883804672490777",
              "6.930098330091105",
              "6.9725909664857815",
              "7.020287427325806",
              "7.01090650500434",
              "7.020304546346262"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/25W7FG7om+polkadot-dot",
            "24hVolume": "554426278",
            "btcPrice": "0.000348958450013536"
          },
          {
            "uuid": "xz24e0BjL",
            "symbol": "SHIB",
            "name": "SHIBA INU",
            "color": "#fda32b",
            "iconUrl": "https://cdn.coinranking.com/D69LfI-tm/shib.png",
            "marketCap": "7326321604",
            "price": "0.000012426876668061",
            "listedAt": 1620650373,
            "tier": 1,
            "change": "-7.03",
            "rank": 13,
            "sparkline": [
              "0.000013290027111039",
              "0.000013335521103198",
              "0.000013557158103939",
              "0.000013498337292817",
              "0.000013203297096561",
              "0.000013079991804383",
              "0.000013036925221914",
              "0.00001287056872095",
              "0.000012830300834283",
              "0.000012906188177826",
              "0.000012902172316551",
              "0.00001284536204701",
              "0.000012600919536173",
              "0.000012414249089443",
              "0.00001253403763365",
              "0.000012524703254412",
              "0.000012535859176692",
              "0.000012528963865088",
              "0.000012505447736074",
              "0.000012292082968012",
              "0.000012294870645303",
              "0.000012315335295886",
              "0.0000124589260106",
              "0.000012394481393002",
              "0.000012398734884547"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/xz24e0BjL+shibainu-shib",
            "24hVolume": "820483525",
            "btcPrice": "6.14964226e-10"
          },
          {
            "uuid": "uW2tk-ILY0ii",
            "symbol": "MATIC",
            "name": "Polygon",
            "color": "#8247e5",
            "iconUrl": "https://cdn.coinranking.com/HAf8rW3kx/polygon-matic-rebrand.png",
            "marketCap": "6681043579",
            "price": "0.7879434408742781",
            "listedAt": 1558961160,
            "tier": 1,
            "change": "-2.07",
            "rank": 14,
            "sparkline": [
              "0.7957175914531547",
              "0.7953135129452723",
              "0.8244510868690722",
              "0.8281417193437369",
              "0.7998173662031459",
              "0.7892290282044532",
              "0.7883343598388739",
              "0.780348230765006",
              "0.781384046707951",
              "0.7880551709535061",
              "0.7901793404972447",
              "0.786185697329718",
              "0.779995680702752",
              "0.7637259127274962",
              "0.7716108505405583",
              "0.7740635267437748",
              "0.773235657183758",
              "0.7738521477658884",
              "0.7722811571999463",
              "0.7645029479986184",
              "0.7669639367069555",
              "0.7728993806975659",
              "0.7806031584293118",
              "0.7821373269389442",
              "0.7864949999202328"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/uW2tk-ILY0ii+polygon-matic",
            "24hVolume": "680711704",
            "btcPrice": "0.000038992664114969"
          },
          {
            "uuid": "VLqpJwogdhHNb",
            "symbol": "LINK",
            "name": "Chainlink",
            "color": "#4680b0",
            "iconUrl": "https://cdn.coinranking.com/9NOP9tOem/chainlink.svg",
            "marketCap": "6589841375",
            "price": "6.5904379702121485",
            "listedAt": 1505952000,
            "tier": 1,
            "change": "-5.35",
            "rank": 15,
            "sparkline": [
              "6.908724017365953",
              "6.89253077534279",
              "7.090458326102644",
              "7.092620953654908",
              "6.884634325509522",
              "6.743848920447393",
              "6.699560218245957",
              "6.638730293765984",
              "6.642590639901924",
              "6.672573910678453",
              "6.688693782658648",
              "6.681933798380233",
              "6.571658654806292",
              "6.478905114762577",
              "6.520264678650267",
              "6.543988585958526",
              "6.53428513800092",
              "6.537468324424587",
              "6.539467896413514",
              "6.480302859088749",
              "6.51765827826122",
              "6.551519341477997",
              "6.583873612698281",
              "6.566599005796022",
              "6.575939166494926"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/VLqpJwogdhHNb+chainlink-link",
            "24hVolume": "1019574182",
            "btcPrice": "0.000326138553622437"
          },
          {
            "uuid": "MoTuySvg7",
            "symbol": "DAI",
            "name": "Dai",
            "color": null,
            "iconUrl": "https://cdn.coinranking.com/mAZ_7LwOE/mutli-collateral-dai.svg",
            "marketCap": "6478529566",
            "price": "0.998920144799677",
            "listedAt": 1585574040,
            "tier": 1,
            "change": "-0.15",
            "rank": 16,
            "sparkline": [
              "1.0015564252935911",
              "0.999143514956455",
              "0.9964913251236738",
              "1.0010630588681517",
              "1.003584030226157",
              "1.0010416978554595",
              "0.9993827706408186",
              "1.0005103871305498",
              "0.9988256370318702",
              "0.9989834076167176",
              "0.9995709336158298",
              "0.9996202568151398",
              "1.0008971732435246",
              "1.001413805023865",
              "0.9990193716793816",
              "0.9996522716640748",
              "0.9999907671121906",
              "0.9994295550026887",
              "0.9995922377408704",
              "0.9999943911632888",
              "0.9988017947830523",
              "0.9989804693779633",
              "0.998898062028752",
              "0.9997080070715826",
              "0.9991914217199889"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/MoTuySvg7+dai-dai",
            "24hVolume": "157641286",
            "btcPrice": "0.000049433189824681"
          },
          {
            "uuid": "qUhEFk1I61atv",
            "symbol": "TRX",
            "name": "TRON",
            "color": "#eb0029",
            "iconUrl": "https://cdn.coinranking.com/behejNqQs/trx.svg",
            "marketCap": "6344139530",
            "price": "0.062295677194950314",
            "listedAt": 1505260800,
            "tier": 1,
            "change": "-4.74",
            "rank": 17,
            "sparkline": [
              "0.06497160751217376",
              "0.06463974563271435",
              "0.06513822854469836",
              "0.06512113309613546",
              "0.0642252521920317",
              "0.06308445797317862",
              "0.062361915844237184",
              "0.06232418897955421",
              "0.062326642683600476",
              "0.06235787199373208",
              "0.062279050021622075",
              "0.062248165516069515",
              "0.0621673839895371",
              "0.061684484169576566",
              "0.06191324089617659",
              "0.061879014684703026",
              "0.06168987142922531",
              "0.061741522818055485",
              "0.06177671169663822",
              "0.061438709901830306",
              "0.061672845914171055",
              "0.061984023928238804",
              "0.062171121662564326",
              "0.06227446801945642",
              "0.062296422200752516"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/qUhEFk1I61atv+tron-trx",
            "24hVolume": "705474400",
            "btcPrice": "0.000003082803016904"
          },
          {
            "uuid": "VINVMYf0u",
            "symbol": "STETH",
            "name": "Lido Staked Ether",
            "color": "#41c0f5",
            "iconUrl": "https://cdn.coinranking.com/UJ-dQdgYY/8085.png",
            "marketCap": "6263279291",
            "price": "1459.7919479299194",
            "listedAt": 1627012680,
            "tier": 1,
            "change": "-9.55",
            "rank": 18,
            "sparkline": [
              "1598.742821924468",
              "1586.1979846361187",
              "1627.1843724090586",
              "1628.6666139440604",
              "1579.9099483917205",
              "1543.3274927238404",
              "1530.8126457426406",
              "1514.0530867551238",
              "1510.8358497535955",
              "1513.6303051959735",
              "1510.8388536297489",
              "1508.6072746286034",
              "1494.5762433049208",
              "1458.6637763489339",
              "1468.0371462965961",
              "1465.193723218938",
              "1454.1932283937892",
              "1453.6024134490367",
              "1453.2342496844617",
              "1440.9640606979192",
              "1445.8285036022883",
              "1451.0869196850501",
              "1458.1986590850443",
              "1456.3917581679843",
              "1455.9861459517356"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/VINVMYf0u+lidostakedether-steth",
            "24hVolume": "3954657",
            "btcPrice": "0.07224018140211985"
          },
          {
            "uuid": "N2IgQ9Xme",
            "symbol": "BIT",
            "name": "BitDAO ",
            "color": "#000000",
            "iconUrl": "https://cdn.coinranking.com/0ClFW1IpO/bitdao.png",
            "marketCap": "5441320879",
            "price": "0.54413208792383",
            "listedAt": 1639033619,
            "tier": 1,
            "change": "-3.03",
            "rank": 19,
            "sparkline": [
              "0.556256808238403",
              "0.5577168302126955",
              "0.5658157373686387",
              "0.5674626672297411",
              "0.5577720596863529",
              "0.5514381150300812",
              "0.5517407191602044",
              "0.5474990401788535",
              "0.5393082077968702",
              "0.542077096652821",
              "0.5457183142513978",
              "0.5467356732503598",
              "0.5457976605815542",
              "0.528418502089187",
              "0.5339825642078173",
              "0.5326354223896762",
              "0.5324017662127313",
              "0.5302851452457171",
              "0.5284440403538098",
              "0.52587042173677",
              "0.5280559153752981",
              "0.5309484305015567",
              "0.5366274132304558",
              "0.5411471878371433",
              "0.5419522988370467"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/N2IgQ9Xme+bitdao-bit",
            "24hVolume": "3217886",
            "btcPrice": "0.000026927262336303"
          },
          {
            "uuid": "mqtUpyBxu8O8",
            "symbol": "LEO",
            "name": "LEO",
            "color": "#063f35",
            "iconUrl": "https://cdn.coinranking.com/12EKqY08r/leo.svg",
            "marketCap": "5107345117",
            "price": "5.180035293350364",
            "listedAt": 1561471620,
            "tier": 1,
            "change": "0.62",
            "rank": 20,
            "sparkline": [
              "5.131468801733575",
              "5.101315160211814",
              "5.111842373557665",
              "5.128911475492947",
              "5.048292227652163",
              "5.087486991288031",
              "5.151780800623625",
              "5.138074760722988",
              "5.13109034926598",
              "5.1226731188108525",
              "5.117776454169851",
              "5.1060938972375824",
              "5.100445303646341",
              "5.10880317592941",
              "5.124590998839148",
              "5.144421214951499",
              "5.145254384647212",
              "5.154481393398052",
              "5.165129101302705",
              "5.168934186757602",
              "5.204672469034031",
              "5.22312672229669",
              "5.1983213530015115",
              "5.1912056319573745",
              "5.182275519065798"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/mqtUpyBxu8O8+leo-leo",
            "24hVolume": "3142373",
            "btcPrice": "0.0002563424807156"
          },
          {
            "uuid": "x4WXHge-vvFY",
            "symbol": "WBTC",
            "name": "Wrapped BTC",
            "color": "#000000",
            "iconUrl": "https://cdn.coinranking.com/o3-8cvCHu/wbtc[1].svg",
            "marketCap": "5001249485",
            "price": "20193.95946800626",
            "listedAt": 1549894980,
            "tier": 1,
            "change": "-5.72",
            "rank": 21,
            "sparkline": [
              "21328.84980740532",
              "21206.79868172297",
              "21597.21556613797",
              "21619.275884275594",
              "21090.86536117777",
              "20762.93005939264",
              "20700.345900712633",
              "20663.16103876002",
              "20662.822475885732",
              "20669.37457110908",
              "20664.235600349333",
              "20641.830005192012",
              "20533.866746414937",
              "20239.187378129463",
              "20289.158494261606",
              "20285.35155587185",
              "20227.876398954715",
              "20214.76194067184",
              "20178.085213785205",
              "20076.893226141437",
              "20116.58483676318",
              "20158.61871827661",
              "20233.775718652578",
              "20192.07861089501",
              "20170.551879735307"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/x4WXHge-vvFY+wrappedbtc-wbtc",
            "24hVolume": "50119408",
            "btcPrice": "0.999330964432653"
          },
          {
            "uuid": "_H5FVG9iW",
            "symbol": "UNI",
            "name": "Uniswap",
            "color": "#ff007a",
            "iconUrl": "https://cdn.coinranking.com/1heSvUgtl/uniswap-v2.svg?size=48x48",
            "marketCap": "4618747543",
            "price": "6.126593454707886",
            "listedAt": 1600323371,
            "tier": 1,
            "change": "-9.92",
            "rank": 22,
            "sparkline": [
              "6.735883639029396",
              "6.713895223843417",
              "6.893876737483699",
              "6.899257997914378",
              "6.7071023746320115",
              "6.512062814134333",
              "6.446459973260719",
              "6.35617780319292",
              "6.341975398747395",
              "6.35183039347572",
              "6.36866380004848",
              "6.348678727626051",
              "6.246007103156124",
              "6.13813306884065",
              "6.166545030129238",
              "6.167784758828889",
              "6.111157327286899",
              "6.114180208617102",
              "6.102110659524879",
              "6.01396643182732",
              "6.068759635346166",
              "6.096343866532138",
              "6.149542194689649",
              "6.133747896051661",
              "6.125461538963053"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/_H5FVG9iW+uniswap-uni",
            "24hVolume": "238749960",
            "btcPrice": "0.000303184452532948"
          },
          {
            "uuid": "dvUj0CzDZ",
            "symbol": "AVAX",
            "name": "Avalanche",
            "color": "#e84242",
            "iconUrl": "https://cdn.coinranking.com/S0C6Cw2-w/avax-avalanche.png",
            "marketCap": "4537248011",
            "price": "20.630058739772455",
            "listedAt": 1600961596,
            "tier": 1,
            "change": "-8.47",
            "rank": 23,
            "sparkline": [
              "22.33227676609543",
              "22.293495189760574",
              "22.910391300931245",
              "22.836473911618114",
              "22.106451737301636",
              "21.73114255159919",
              "21.69998026665988",
              "21.587575330384826",
              "21.52720933633213",
              "21.577696015414915",
              "21.546975463243587",
              "21.333857571848032",
              "20.902330809784534",
              "20.585884527916686",
              "20.782691161856917",
              "20.735669423194903",
              "20.619972378497774",
              "20.54929075674062",
              "20.46075345753718",
              "20.25408358897942",
              "20.437618145286567",
              "20.562425597533906",
              "20.724349509679115",
              "20.706743833569455",
              "20.630697754594618"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/dvUj0CzDZ+avalanche-avax",
            "24hVolume": "762970669",
            "btcPrice": "0.001020912046960473"
          },
          {
            "uuid": "PDKcptVnzJTmN",
            "symbol": "OKB",
            "name": "OKB",
            "color": "#2d60e0",
            "iconUrl": "https://cdn.coinranking.com/xcZdYtX6E/okx.png",
            "marketCap": "4124487845",
            "price": "16.086893202996627",
            "listedAt": 1538524800,
            "tier": 1,
            "change": "-6.91",
            "rank": 24,
            "sparkline": [
              "17.21150660853525",
              "17.19428782548934",
              "17.473808757357222",
              "17.50089904095831",
              "17.133479949670328",
              "16.857471139383055",
              "16.362194268875523",
              "16.3131770826926",
              "16.26594712033184",
              "16.274283647636565",
              "16.258671963686908",
              "16.237357379065347",
              "16.13998732709899",
              "16.090841356683292",
              "16.18905347728674",
              "16.16281711211913",
              "16.082169113829075",
              "16.103187380811338",
              "16.09755031741999",
              "15.986770997572066",
              "16.022235090028175",
              "16.10723429970344",
              "16.17451559033655",
              "16.108102774255784",
              "16.08731764374301"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/PDKcptVnzJTmN+okb-okb",
            "24hVolume": "15632578",
            "btcPrice": "0.000796086103111452"
          },
          {
            "uuid": "hnfQfsYfeIGUQ",
            "symbol": "ETC",
            "name": "Ethereum Classic",
            "color": "#699070",
            "iconUrl": "https://cdn.coinranking.com/rJfyor__W/etc.svg",
            "marketCap": "3887700825",
            "price": "33.42438791064677",
            "listedAt": 1469577600,
            "tier": 1,
            "change": "-8.22",
            "rank": 25,
            "sparkline": [
              "36.05294506650774",
              "36.00618174954683",
              "37.56091558106135",
              "37.461844757050905",
              "36.16184191190642",
              "34.84909316804056",
              "35.01808002162978",
              "34.726044806434786",
              "34.928754363142275",
              "35.04892464540539",
              "34.87009265051706",
              "34.865427711711085",
              "34.50290353113864",
              "33.85775266721328",
              "34.18589128994431",
              "34.08568177639264",
              "34.128456228254436",
              "34.1287670348528",
              "34.0310231097115",
              "33.79532660053103",
              "34.098176657502165",
              "34.13884830764776",
              "34.201330181685535",
              "33.784792175276486",
              "33.3628792387958"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/hnfQfsYfeIGUQ+ethereumclassic-etc",
            "24hVolume": "2464330777",
            "btcPrice": "0.001654060257931949"
          },
          {
            "uuid": "D7B1x_ks7WhV5",
            "symbol": "LTC",
            "name": "Litecoin",
            "color": "#345d9d",
            "iconUrl": "https://cdn.coinranking.com/BUvPxmc9o/ltcnew.svg",
            "marketCap": "3733923311",
            "price": "52.69042645182257",
            "listedAt": 1382572800,
            "tier": 1,
            "change": "-6.00",
            "rank": 26,
            "sparkline": [
              "55.82861936188105",
              "55.802057967164636",
              "57.26170925661253",
              "57.156305149330436",
              "55.48547645327",
              "54.2651903046108",
              "54.014394291813126",
              "53.66968246999779",
              "53.84812863245558",
              "54.16386970088513",
              "54.154486645992655",
              "54.12440114506319",
              "53.4695816433896",
              "52.68185323279986",
              "52.80525694285544",
              "52.806168503719",
              "52.627909821590606",
              "52.68764676436716",
              "52.72585010460031",
              "52.294124164836305",
              "52.34296810010172",
              "52.489738913281805",
              "52.71270708028185",
              "52.69249411017427",
              "52.64061236366309"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/D7B1x_ks7WhV5+litecoin-ltc",
            "24hVolume": "865034201",
            "btcPrice": "0.002607471544443297"
          },
          {
            "uuid": "NfeOYfNcl",
            "symbol": "FTT",
            "name": "FTX Token",
            "color": "#77d9ed",
            "iconUrl": "https://cdn.coinranking.com/WyBm4_EzM/ftx-exchange.svg",
            "marketCap": "3491634006",
            "price": "25.992807090449677",
            "listedAt": 1566222960,
            "tier": 1,
            "change": "-5.81",
            "rank": 27,
            "sparkline": [
              "27.42562573880977",
              "27.30385464877208",
              "27.849288615167097",
              "27.848018682269274",
              "27.182809136011766",
              "26.769831157519935",
              "26.64520987961531",
              "26.504479222375835",
              "26.493279087451807",
              "26.522703375140143",
              "26.493184970262504",
              "26.473718242474444",
              "26.3117229369133",
              "25.909789358901747",
              "26.028483071494147",
              "26.017740750589432",
              "25.932908210680612",
              "25.93360322205373",
              "25.84676762967902",
              "25.690471457339303",
              "25.777465299736157",
              "25.874563595601654",
              "25.9943420275025",
              "25.94177624568442",
              "25.92088376333641"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/NfeOYfNcl+ftxtoken-ftt",
            "24hVolume": "103523605",
            "btcPrice": "0.001286296380814491"
          },
          {
            "uuid": "Knsels4_Ol-Ny",
            "symbol": "ATOM",
            "name": "Cosmos",
            "color": "#5064fb",
            "iconUrl": "https://cdn.coinranking.com/HJzHboruM/atom.svg",
            "marketCap": "3201477653",
            "price": "10.941999481971767",
            "listedAt": 1552520100,
            "tier": 1,
            "change": "-11.13",
            "rank": 28,
            "sparkline": [
              "12.30443285773963",
              "12.359386090839587",
              "12.84431306688847",
              "12.864788573280057",
              "12.544315521413496",
              "12.376068469446444",
              "12.180577461916231",
              "11.956623559246106",
              "11.836235125654571",
              "11.938929748441799",
              "11.984712310240646",
              "11.817419280994006",
              "11.60517832493552",
              "11.434253474912255",
              "11.206122157866885",
              "11.14695240838468",
              "11.067063840197388",
              "10.98853756955651",
              "10.933484827878168",
              "10.805996218724893",
              "10.855575604677686",
              "10.900267418328378",
              "10.942216445733887",
              "10.879929281909074",
              "10.904955861720076"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/Knsels4_Ol-Ny+cosmos-atom",
            "24hVolume": "741517522",
            "btcPrice": "0.000541482660320503"
          },
          {
            "uuid": "3mVx2FX_iJFp5",
            "symbol": "XMR",
            "name": "Monero",
            "color": "#ff7519",
            "iconUrl": "https://cdn.coinranking.com/Syz-oSd_Z/xmr.svg",
            "marketCap": "2606299233",
            "price": "143.50368063953363",
            "listedAt": 1422489600,
            "tier": 1,
            "change": "-6.25",
            "rank": 29,
            "sparkline": [
              "152.86554351088503",
              "152.62551593008342",
              "154.0675580862199",
              "153.6021852956955",
              "150.6354243117931",
              "148.15974971615603",
              "147.78053003436574",
              "146.71589329053106",
              "146.78266813170418",
              "146.20946523962513",
              "146.59339996665287",
              "146.73708615922433",
              "144.73979987151176",
              "142.45851876745053",
              "142.88587957845743",
              "142.4036436054513",
              "143.11264459929447",
              "144.1616789150932",
              "145.06383374443405",
              "144.49911012687934",
              "143.921679716134",
              "143.68493569901614",
              "143.91031901227618",
              "143.66751164582084",
              "142.97978891707447"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/3mVx2FX_iJFp5+monero-xmr",
            "24hVolume": "154923070",
            "btcPrice": "0.007101513291652614"
          },
          {
            "uuid": "65PHZTpmE55b",
            "symbol": "CRO",
            "name": "Cronos",
            "color": "#01275d",
            "iconUrl": "https://cdn.coinranking.com/2o91jm73M/cro.svg",
            "marketCap": "2411768288",
            "price": "0.1212963217406677",
            "listedAt": 1548953220,
            "tier": 1,
            "change": "-6.60",
            "rank": 30,
            "sparkline": [
              "0.12902127758519513",
              "0.12793874185838996",
              "0.13049842241986598",
              "0.1303616955171771",
              "0.1269496093523185",
              "0.12528333575028436",
              "0.12469491807148465",
              "0.12361229795770665",
              "0.12312121585601658",
              "0.12369059583079221",
              "0.12349231174304659",
              "0.12288116785735724",
              "0.12208707872552309",
              "0.12039181497472977",
              "0.12054018242791387",
              "0.1206309181772055",
              "0.12034503027559303",
              "0.12039378042530112",
              "0.12038547845654911",
              "0.11979817204879818",
              "0.1205431684300235",
              "0.12103705066466852",
              "0.12160674625465528",
              "0.12145922161931418",
              "0.1210163585114083"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/65PHZTpmE55b+cronos-cro",
            "24hVolume": "33241923",
            "btcPrice": "0.000006002545978132"
          },
          {
            "uuid": "DCrsaMv68",
            "symbol": "NEAR",
            "name": "NEAR Protocol",
            "color": "#000000",
            "iconUrl": "https://cdn.coinranking.com/Cth83dCnl/near.png",
            "marketCap": "2407153452",
            "price": "3.960147894720219",
            "listedAt": 1615164591,
            "tier": 1,
            "change": "-6.10",
            "rank": 31,
            "sparkline": [
              "4.181156738441497",
              "4.18369388095542",
              "4.317595433630734",
              "4.360177400239235",
              "4.2175386211389165",
              "4.122745331738643",
              "4.094159992728462",
              "4.026933429077021",
              "4.037448362234027",
              "4.051601071791854",
              "4.065772899837883",
              "4.0518589666365195",
              "3.9928254741978777",
              "3.926943780451505",
              "3.954878829699097",
              "3.9454563884091236",
              "3.932935361903159",
              "3.9403790510184282",
              "3.9258956897314388",
              "3.876747500420411",
              "3.9087344698650948",
              "3.9320529234037114",
              "3.962031813693033",
              "3.945257768984564",
              "3.949053313918031"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/DCrsaMv68+nearprotocol-near",
            "24hVolume": "535050187",
            "btcPrice": "0.000195974366552367"
          },
          {
            "uuid": "ZlZpzOJo43mIo",
            "symbol": "BCH",
            "name": "Bitcoin Cash",
            "color": "#8dc451",
            "iconUrl": "https://cdn.coinranking.com/By8ziihX7/bch.svg",
            "marketCap": "2242766072",
            "price": "117.22958506465034",
            "listedAt": 1541808000,
            "tier": 1,
            "change": "-7.65",
            "rank": 32,
            "sparkline": [
              "126.31629624105717",
              "125.59669463007582",
              "127.46208196737163",
              "127.09788072967049",
              "123.59282545856419",
              "121.37903486618377",
              "120.2133566193917",
              "119.15130813265196",
              "119.17250421688048",
              "119.67948962467786",
              "119.71653652220289",
              "119.59319505848373",
              "117.79947010165318",
              "116.0582631962129",
              "117.26288469002212",
              "117.70729633588671",
              "117.71477170010202",
              "117.38769457272412",
              "117.32119204869099",
              "116.41110949073239",
              "116.72045128706806",
              "116.96964949435333",
              "117.23270375260981",
              "117.16251547359363",
              "117.09928996171006"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/ZlZpzOJo43mIo+bitcoincash-bch",
            "24hVolume": "407308536",
            "btcPrice": "0.00580129689218709"
          },
          {
            "uuid": "f3iaFeCKEmkaZ",
            "symbol": "XLM",
            "name": "Stellar",
            "color": "#000000",
            "iconUrl": "https://cdn.coinranking.com/78CxK1xsp/Stellar_symbol_black_RGB.svg",
            "marketCap": "2111094361",
            "price": "0.10448105210876793",
            "listedAt": 1484611200,
            "tier": 1,
            "change": "-6.51",
            "rank": 33,
            "sparkline": [
              "0.11105011025018785",
              "0.11073408781567862",
              "0.11189957234055871",
              "0.11154471700201983",
              "0.1093097510893038",
              "0.10688837789028793",
              "0.10608285569546763",
              "0.10592979683389599",
              "0.10551422245484948",
              "0.10521890388736313",
              "0.10558263433123742",
              "0.10577012685411774",
              "0.10463235245072113",
              "0.10381096681904578",
              "0.10447877282914571",
              "0.10457983760555978",
              "0.10434490048016669",
              "0.10458563124588327",
              "0.10469052109804054",
              "0.10354026104315789",
              "0.10401333060773638",
              "0.1042355501050737",
              "0.1044265423598139",
              "0.10444565049543005",
              "0.10437037304815373"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/f3iaFeCKEmkaZ+stellar-xlm",
            "24hVolume": "178370095",
            "btcPrice": "0.000005170414981481"
          },
          {
            "uuid": "08CsQa-Ov",
            "symbol": "WEMIX",
            "name": "WEMIX TOKEN",
            "color": "#9bdc70",
            "iconUrl": "https://cdn.coinranking.com/1N84MQsoO/7548.png",
            "marketCap": "2077419478",
            "price": "2.077419478482879",
            "listedAt": 1638249982,
            "tier": 1,
            "change": "-7.49",
            "rank": 34,
            "sparkline": [
              "2.23256015094254",
              "2.2126072974433657",
              "2.2418815840955553",
              "2.2461766895128013",
              "2.210654951976604",
              "2.1836716618169447",
              "2.1653271215915186",
              "2.155161150852265",
              "2.1509795643430634",
              "2.146792695882918",
              "2.135035499964452",
              "2.122723668123543",
              "2.1139165980967807",
              "2.074354117804335",
              "2.0694245403043343",
              "2.0681935986306748",
              "2.065986569614643",
              "2.056065180800952",
              "2.054758814613095",
              "2.032512527898992",
              "2.031902768133442",
              "2.049003099800382",
              "2.075002833140842",
              "2.0694696877767753",
              "2.07071780944226"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/08CsQa-Ov+wemixtoken-wemix",
            "24hVolume": "32402989",
            "btcPrice": "0.000102804485383492"
          },
          {
            "uuid": "TpHE2IShQw-sJ",
            "symbol": "ALGO",
            "name": "Algorand",
            "color": null,
            "iconUrl": "https://cdn.coinranking.com/lzbmCkUGB/algo.svg",
            "marketCap": "1975712496",
            "price": "0.2863908916037801",
            "listedAt": 1562082540,
            "tier": 1,
            "change": "-5.47",
            "rank": 35,
            "sparkline": [
              "0.30011008198627853",
              "0.2991561304155025",
              "0.3048963764637654",
              "0.3039870883010843",
              "0.2957339627686198",
              "0.29092439862015623",
              "0.2895621869897434",
              "0.28745191943233644",
              "0.28780371251820486",
              "0.289028874404619",
              "0.2887124016405194",
              "0.2878392273088719",
              "0.28505788816415056",
              "0.2817960131240464",
              "0.28323999187577215",
              "0.283721305608759",
              "0.2838941538724586",
              "0.2836591303327804",
              "0.28398639239938245",
              "0.28112831929222365",
              "0.2826548808737017",
              "0.2844798133638956",
              "0.2864709462520458",
              "0.28584978137679723",
              "0.2858324718785932"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/TpHE2IShQw-sJ+algorand-algo",
            "24hVolume": "141779882",
            "btcPrice": "0.000014172519577677"
          },
          {
            "uuid": "lORNHeWV9",
            "symbol": "MIM",
            "name": "Magic Internet Money",
            "color": "#8838ff",
            "iconUrl": "https://cdn.coinranking.com/oLYNt8laX/mimlogopng.png",
            "marketCap": "1809803934",
            "price": "0.9965182307170208",
            "listedAt": 1627436833,
            "tier": 1,
            "change": "-0.03",
            "rank": 36,
            "sparkline": [
              "0.9976388266440773",
              "0.9948002525935425",
              "0.9931307236599162",
              "0.9973289454103231",
              "0.9977886778937742",
              "0.9941734343994487",
              "0.9935517672345862",
              "0.9941496897863926",
              "0.9926683581490394",
              "0.9930528072590133",
              "0.9937684732632607",
              "0.9942592014227646",
              "0.9956509181985469",
              "0.993860733880903",
              "0.9946265464798777",
              "0.9951757978572806",
              "0.9948682291381838",
              "0.9945125084786215",
              "0.994747085608551",
              "0.9942300357494158",
              "0.9940919029921081",
              "0.9950006082484938",
              "0.9963584874021754",
              "0.9967307433226165",
              "0.9953494121766829"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/lORNHeWV9+magicinternetmoney-mim",
            "24hVolume": "112511",
            "btcPrice": "0.000049314327195462"
          },
          {
            "uuid": "9_jH48RBW",
            "symbol": "BTCB",
            "name": "Bitcoin BEP2",
            "color": "#ff9d14",
            "iconUrl": "https://cdn.coinranking.com/Swr_SeZio/4023.png",
            "marketCap": "1728612095",
            "price": "20219.02773956558",
            "listedAt": 1629334963,
            "tier": 1,
            "change": "-5.71",
            "rank": 37,
            "sparkline": [
              "21352.966464456273",
              "21206.110482979206",
              "21587.282414098045",
              "21675.146263462524",
              "21145.86694134679",
              "20788.074979234094",
              "20683.400241668987",
              "20676.720855351683",
              "20676.835089158823",
              "20681.14542754502",
              "20681.144693348164",
              "20636.946383072824",
              "20560.966744733592",
              "20242.944195704826",
              "20308.55632156241",
              "20310.195483437736",
              "20249.24999498366",
              "20236.68554920468",
              "20214.345250439244",
              "20081.76507187858",
              "20127.914542659702",
              "20184.201920224943",
              "20234.504927951595",
              "20237.06039282189",
              "20197.793766280894"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/9_jH48RBW+bitcoinbep2-btcb",
            "24hVolume": "12675087",
            "btcPrice": "1.0005715086673648"
          },
          {
            "uuid": "tEf7-dnwV3BXS",
            "symbol": "MANA",
            "name": "Decentraland",
            "color": "#f47e33",
            "iconUrl": "https://cdn.coinranking.com/ph_svUzXs/decentraland(1).svg",
            "marketCap": "1699751673",
            "price": "0.7748826101256652",
            "listedAt": 1500336000,
            "tier": 1,
            "change": "-6.31",
            "rank": 38,
            "sparkline": [
              "0.8196931587963869",
              "0.8194881602522641",
              "0.8376925521148562",
              "0.835829694846326",
              "0.8137296624412084",
              "0.8015439443766705",
              "0.7989896158644194",
              "0.7922261615668881",
              "0.7909616061489787",
              "0.7948307849385502",
              "0.7962686930021339",
              "0.7916923178728259",
              "0.7808058046189243",
              "0.7744153896665982",
              "0.7763928868455275",
              "0.7741392015948507",
              "0.7724904508344859",
              "0.7716984894409596",
              "0.7708948181033303",
              "0.7639990693218798",
              "0.7662533370711961",
              "0.7714865133239981",
              "0.7748131623802126",
              "0.773629557005126",
              "0.7745284844534772"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/tEf7-dnwV3BXS+decentraland-mana",
            "24hVolume": "411018599",
            "btcPrice": "0.000038346327639501"
          },
          {
            "uuid": "FEbS54wxo4oIl",
            "symbol": "VET",
            "name": "VeChain",
            "color": "#4bc0fa",
            "iconUrl": "https://cdn.coinranking.com/B1_TDu9Dm/VEN.svg",
            "marketCap": "1646360245",
            "price": "0.02466060461990394",
            "listedAt": 1533427200,
            "tier": 1,
            "change": "-5.96",
            "rank": 39,
            "sparkline": [
              "0.02599499835531183",
              "0.02598949194038574",
              "0.026728110512145846",
              "0.026676095518796565",
              "0.025879057895437565",
              "0.02541723590274846",
              "0.02523000355821998",
              "0.024995260327257154",
              "0.02499633144760138",
              "0.025053202258547493",
              "0.025036057644260132",
              "0.024963271361099094",
              "0.02460795689797475",
              "0.024315270246876543",
              "0.02444404469068226",
              "0.024475504420316138",
              "0.024431741144854923",
              "0.024427731651606617",
              "0.024462478200924537",
              "0.024215723626995617",
              "0.024359948126170868",
              "0.0245222693622769",
              "0.02464977701870487",
              "0.024609684728939225",
              "0.024647819743807253"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/FEbS54wxo4oIl+vechain-vet",
            "24hVolume": "113418606",
            "btcPrice": "0.000001220370172444"
          },
          {
            "uuid": "Z96jIvLU7",
            "symbol": "IMX",
            "name": "Immutable X",
            "color": "#000000",
            "iconUrl": "https://cdn.coinranking.com/naRGT2Y_X/10603.png",
            "marketCap": "1590384288",
            "price": "0.7951921439826812",
            "listedAt": 1649387294,
            "tier": 1,
            "change": "-6.02",
            "rank": 40,
            "sparkline": [
              "0.8371991519858553",
              "0.835773166937629",
              "0.8634713375338523",
              "0.8637835326931601",
              "0.8388873395125802",
              "0.8217489935272037",
              "0.8060430807395478",
              "0.7934732537618812",
              "0.7915027517914935",
              "0.7962060596303252",
              "0.795942863856046",
              "0.7950804594108588",
              "0.7833503906575522",
              "0.7725593470582668",
              "0.7809779969773808",
              "0.7845046393030117",
              "0.7838827397780312",
              "0.7894997102699669",
              "0.7919925646567714",
              "0.7805204918985538",
              "0.7864571933960539",
              "0.7883715888643693",
              "0.7922844507717379",
              "0.789673915209513",
              "0.7915175231424705"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/Z96jIvLU7+immutablex-imx",
            "24hVolume": "51991109",
            "btcPrice": "0.000039351377990754"
          },
          {
            "uuid": "aMNLwaUbY",
            "symbol": "ICP",
            "name": "Internet Computer (DFINITY)",
            "color": "#00042b",
            "iconUrl": "https://cdn.coinranking.com/1uJ_RVrmC/dfinity-icp.png",
            "marketCap": "1588321464",
            "price": "6.20827365750873",
            "listedAt": 1601555742,
            "tier": 1,
            "change": "-0.36",
            "rank": 41,
            "sparkline": [
              "6.17466540532183",
              "6.162314940331501",
              "6.29541143994953",
              "6.2779875719077785",
              "6.097799079221062",
              "5.99366830385764",
              "5.957645597843657",
              "5.901511429163101",
              "5.932683643328314",
              "5.939749378799073",
              "5.91640539707837",
              "5.915793992270627",
              "5.833557087205836",
              "5.736233075931091",
              "5.786325999603081",
              "5.778474539947653",
              "5.754876662099801",
              "5.786846368938894",
              "5.79861163382183",
              "5.742182228230001",
              "5.809017374399869",
              "5.850149184801691",
              "5.8586407523038595",
              "5.8707642005146825",
              "6.126486747552517"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/aMNLwaUbY+internetcomputerdfinity-icp",
            "24hVolume": "148346557",
            "btcPrice": "0.000307226530361684"
          },
          {
            "uuid": "iAzbfXiBBKkR6",
            "symbol": "EOS",
            "name": "EOS",
            "color": "#443f54",
            "iconUrl": "https://cdn.coinranking.com/PqOYrWSje/eos2.svg",
            "marketCap": "1495744602",
            "price": "1.5142102452079282",
            "listedAt": 1498694400,
            "tier": 1,
            "change": "-10.12",
            "rank": 42,
            "sparkline": [
              "1.6908862842095025",
              "1.728603603647817",
              "1.721462698336458",
              "1.7045452186607712",
              "1.6703429511784813",
              "1.6611541895638748",
              "1.6380061477413463",
              "1.6104332307696507",
              "1.6106102695602937",
              "1.604699661688879",
              "1.5764466126706331",
              "1.565495291924153",
              "1.5530807688662471",
              "1.5403159564310558",
              "1.5243652836280834",
              "1.5201292918757692",
              "1.512078939338951",
              "1.5091868490455458",
              "1.5088814633202345",
              "1.4901839759366369",
              "1.497882421752636",
              "1.5041213620078535",
              "1.5182290277082668",
              "1.5110883970877036",
              "1.5108504031868182"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/iAzbfXiBBKkR6+eos-eos",
            "24hVolume": "862392603",
            "btcPrice": "0.000074933159447746"
          },
          {
            "uuid": "ncYFcP709",
            "symbol": "CAKE",
            "name": "PancakeSwap",
            "color": "#fe9555",
            "iconUrl": "https://cdn.coinranking.com/aRtgdw7bQ/pancakeswap-cake-logo.png",
            "marketCap": "1489629723",
            "price": "3.8160865695005683",
            "listedAt": 1613642379,
            "tier": 1,
            "change": "-3.27",
            "rank": 43,
            "sparkline": [
              "3.9298913929076806",
              "3.9145871981255516",
              "3.976122158113814",
              "3.9807433261957015",
              "3.911743737764211",
              "3.848543738964661",
              "3.8241235253865877",
              "3.8215470851087234",
              "3.81806939249983",
              "3.824558095079025",
              "3.830193109097441",
              "3.814267878846449",
              "3.786383332286852",
              "3.7459973646101443",
              "3.7711811861997377",
              "3.7772222560751714",
              "3.7760981352890886",
              "3.773405094765159",
              "3.774663981572744",
              "3.752488436282091",
              "3.7563359594684176",
              "3.770309491508602",
              "3.789148608297322",
              "3.7889429492000146",
              "3.794413564074084"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/ncYFcP709+pancakeswap-cake",
            "24hVolume": "44860469",
            "btcPrice": "0.0001888452573107"
          },
          {
            "uuid": "KfWtaeV1W",
            "symbol": "FRAX",
            "name": "Frax",
            "color": "#000000",
            "iconUrl": "https://cdn.coinranking.com/BpVNCX-NM/frax.png",
            "marketCap": "1445246756",
            "price": "0.9975674036234463",
            "listedAt": 1615299931,
            "tier": 1,
            "change": "-0.26",
            "rank": 44,
            "sparkline": [
              "1.0012867374683478",
              "0.9990793788396728",
              "0.9959988338498141",
              "1.0006015998966233",
              "1.0034508896534318",
              "1.0008252885447577",
              "0.9993171981382446",
              "1.000299570630397",
              "0.9985381795229209",
              "0.998723652204348",
              "0.9995824143090057",
              "0.9990172903312886",
              "1.0007347471905776",
              "1.0004603839254855",
              "0.9983582593842016",
              "0.9995066150752798",
              "0.9997195136792149",
              "0.9991161676459605",
              "0.9995180610697154",
              "0.9997557462201929",
              "0.9981700860455792",
              "0.9984464817512575",
              "0.9984172131806195",
              "0.9993649893355085",
              "0.9986310464504609"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/KfWtaeV1W+frax-frax",
            "24hVolume": "5305569",
            "btcPrice": "0.000049366247225018"
          },
          {
            "uuid": "pxtKbG5rg",
            "symbol": "SAND",
            "name": "The Sandbox",
            "color": "#00adef",
            "iconUrl": "https://cdn.coinranking.com/kd_vwOcnI/sandbox.png",
            "marketCap": "1416127163",
            "price": "0.9612135302762598",
            "listedAt": 1613583024,
            "tier": 1,
            "change": "-6.84",
            "rank": 45,
            "sparkline": [
              "1.0232521028839212",
              "1.019982872698256",
              "1.0423478400592616",
              "1.0465200567544664",
              "1.0164348066362763",
              "0.9988048058842478",
              "0.995272740144612",
              "0.9864737997423101",
              "0.9852911012855724",
              "0.9922267776473646",
              "0.9929458321675412",
              "0.9886784077165178",
              "0.9740444184889964",
              "0.9553347796151933",
              "0.9586670088568613",
              "0.9581519105897287",
              "0.9561842428283205",
              "0.9564411387446129",
              "0.955581344060861",
              "0.9460175774486838",
              "0.9505236392846501",
              "0.9544982641356508",
              "0.9611093487413359",
              "0.9596037632115398",
              "0.9598950000780281"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/pxtKbG5rg+thesandbox-sand",
            "24hVolume": "288140565",
            "btcPrice": "0.00004756721661042"
          },
          {
            "uuid": "Pe93bIOD2",
            "symbol": "LDO",
            "name": "Lido DAO Token",
            "color": "#77cced",
            "iconUrl": "https://cdn.coinranking.com/Wp6LFY6ZZ/8000.png",
            "marketCap": "1382103328",
            "price": "1.719456798967299",
            "listedAt": 1627361901,
            "tier": 1,
            "change": "-12.66",
            "rank": 46,
            "sparkline": [
              "1.9388550431714937",
              "1.9312814205089481",
              "2.0183773338606033",
              "2.0384843669532193",
              "1.9553937438243112",
              "1.9026418266779834",
              "1.864021317550739",
              "1.84043578475049",
              "1.823975124844498",
              "1.8330411077745825",
              "1.8263484895290527",
              "1.818405897632639",
              "1.792702406984245",
              "1.742871855718171",
              "1.7545163777715171",
              "1.7638615557632875",
              "1.7346399952484879",
              "1.7354265856238813",
              "1.7386367836081686",
              "1.7117792536473018",
              "1.7158658631824677",
              "1.7279627982410848",
              "1.737299176054819",
              "1.731614406236025",
              "1.716077085654098"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/Pe93bIOD2+lidodaotoken-ldo",
            "24hVolume": "88878818",
            "btcPrice": "0.000085090119346561"
          },
          {
            "uuid": "fsIbGOEJWbzxG",
            "symbol": "XTZ",
            "name": "Tezos",
            "color": "#2c7df7",
            "iconUrl": "https://cdn.coinranking.com/HkLUdilQ7/xtz.svg",
            "marketCap": "1334802377",
            "price": "1.4765555587778547",
            "listedAt": 1530662400,
            "tier": 1,
            "change": "-9.78",
            "rank": 47,
            "sparkline": [
              "1.6146257232700953",
              "1.5997198942697952",
              "1.6357002565612073",
              "1.6285326951102777",
              "1.5809773073664188",
              "1.552984774516434",
              "1.5451646485753696",
              "1.5305328145096175",
              "1.527935869248242",
              "1.5341217956866082",
              "1.5321778597148128",
              "1.525846720403545",
              "1.5068751535561606",
              "1.475656430101989",
              "1.4792563760609718",
              "1.4836021280078229",
              "1.4758576722412684",
              "1.470228041397086",
              "1.4697289899078245",
              "1.4542071909326193",
              "1.4676674132789767",
              "1.4771130124907565",
              "1.4846724228958674",
              "1.4775596082781433",
              "1.4734483817520803"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/fsIbGOEJWbzxG+tezos-xtz",
            "24hVolume": "70971365",
            "btcPrice": "0.000073069755979735"
          },
          {
            "uuid": "GSCt2y6YSgO26",
            "symbol": "CHZ",
            "name": "Chiliz",
            "color": "#d05e72",
            "iconUrl": "https://cdn.coinranking.com/gTsOlSnwR/4066.png",
            "marketCap": "1279400509",
            "price": "0.21551307755370036",
            "listedAt": 1562332440,
            "tier": 1,
            "change": "-4.69",
            "rank": 48,
            "sparkline": [
              "0.22250408935591381",
              "0.22421666541502946",
              "0.23077096406736966",
              "0.22956136087287907",
              "0.23240174314747414",
              "0.23422804803896388",
              "0.22384126010126648",
              "0.21375210458938604",
              "0.2118280179233856",
              "0.21237719854776663",
              "0.21027479339155924",
              "0.21018954463460598",
              "0.20720751555638572",
              "0.20843255322694132",
              "0.21145799837907775",
              "0.2119018835248263",
              "0.21097662624698646",
              "0.21195746108566396",
              "0.21080026241862682",
              "0.21164680405422123",
              "0.21451114360229512",
              "0.21458252655472757",
              "0.21593773576117328",
              "0.21367676574798042",
              "0.21474866647698565"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/GSCt2y6YSgO26+chiliz-chz",
            "24hVolume": "812820025",
            "btcPrice": "0.000010665015544911"
          },
          {
            "uuid": "SbWqqTui-",
            "symbol": "ENS",
            "name": "EnergySwap",
            "color": "#ffda55",
            "iconUrl": "https://cdn.coinranking.com/fmYxEUV5a/cropped-logo37-Converted-01-192x192.png",
            "marketCap": "1223314094",
            "price": "12.23314094100061",
            "listedAt": 1626134763,
            "tier": 1,
            "change": "-6.27",
            "rank": 49,
            "sparkline": [
              "12.935604998725134",
              "12.945978591949398",
              "13.239583087493328",
              "13.146425296444882",
              "12.813297222770954",
              "12.648043468294867",
              "12.555522432038005",
              "12.42218889787897",
              "12.443225079023767",
              "12.483564184850268",
              "12.492842830902664",
              "12.449905146052078",
              "12.283643445978644",
              "12.152636467414094",
              "12.231591412795037",
              "12.264406444792856",
              "12.275005182404056",
              "12.291342735520292",
              "12.269649501251328",
              "12.054590551075707",
              "12.114830503866514",
              "12.157532031957322",
              "12.209452861503786",
              "12.198521296469279",
              "12.225798060908057"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/SbWqqTui-+energyswap-ens",
            "24hVolume": "12309209",
            "btcPrice": "0.000605299945529355"
          },
          {
            "uuid": "jad286TjB",
            "symbol": "HBAR",
            "name": "Hedera HashGraph",
            "color": "#000000",
            "iconUrl": "https://cdn.coinranking.com/dSCnSLilQ/hedera.svg",
            "marketCap": "1180451944",
            "price": "0.06335751932278177",
            "listedAt": 1568704980,
            "tier": 1,
            "change": "-6.94",
            "rank": 50,
            "sparkline": [
              "0.06722541366703892",
              "0.06708176273619106",
              "0.0681441628699302",
              "0.0679137651296962",
              "0.06643880993030428",
              "0.06543339740320422",
              "0.06482033370433683",
              "0.0638905844106082",
              "0.06397935572153464",
              "0.06421108099171427",
              "0.06413218787273949",
              "0.06396125176275712",
              "0.06300256583004492",
              "0.062433013973384494",
              "0.06281478415810446",
              "0.06284795443837213",
              "0.06277984208576437",
              "0.0628809393292873",
              "0.06306734430267343",
              "0.06242487084748327",
              "0.06283522619682991",
              "0.0631845731580422",
              "0.06348956635794721",
              "0.06332906234887517",
              "0.06324133515204743"
            ],
            "lowVolume": false,
            "coinrankingUrl": "https://coinranking.com/coin/jad286TjB+hederahashgraph-hbar",
            "24hVolume": "40568889",
            "btcPrice": "0.00000313535000351"
          }
        ]
      }
    }    
  
    console.count('Price Update Count')
  }catch(err){
    console.error(err)
  }
})

const randomImageName = (bytes = 32) =>
  crypto.randomBytes(bytes).toString('hex')

const storage = multer.memoryStorage()
const upload = multer({ storage: storage })


app.get('/api/getS3Image', async (req, res) => {
  const params = {
    Bucket: process.env.NEXT_PUBLIC_AWS_BUCKET_NAME,
    Key: req.query.filename,
  }
  const command = new GetObjectCommand(params)
  const url = await getSignedUrl(s3, command, { expiresIn: 3600 })

  res.send({ url }).status(200)
})

app.post('/api/saveS3Image', upload.single('profile'), async (req, res) => {
  console.log(process.env.NEXT_PUBLIC_AWS_BUCKET_REGION)
  const address = req.body.userAddress
  console.log(req.file.buffer)
  const imageName = 'profileImage-' + address

  const params = {
    Bucket: process.env.NEXT_PUBLIC_AWS_BUCKET_NAME,
    Key: imageName,
    Body: req.file.buffer,
    ContentType: req.file.mimetype,
  }

  const command = new PutObjectCommand(params)

  await s3.send(command)
  res.send({})
})

app.post('/api/saveS3Banner', upload.single('banner'), async (req, res) => {
  const address = req.body.userAddress
  const imageName = 'bannerImage-' + address

  const params = {
    Bucket: process.env.NEXT_PUBLIC_AWS_BUCKET_NAME,
    Key: imageName,
    Body: req.file.buffer,
    ContentType: req.file.mimetype,
  }

  const command = new PutObjectCommand(params)

  await s3.send(command)
  res.send({})
})

app.listen(8080, () => console.log('listening on 8080'))
